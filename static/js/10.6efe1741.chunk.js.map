{"version":3,"file":"static/js/10.6efe1741.chunk.js","mappings":"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","sources":["Components/SearchResult.jsx","webpack://fashion-react-app/./src/Styles/Products.module.css?caa0"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { CartContext } from \"../ContextApis/CartContext\";\r\nimport { WishlistContext } from '../ContextApis/WishlistContext';\r\nimport { UsersContext } from '../ContextApis/UsersContext';\r\nimport style from \"../Styles/Products.module.css\"\r\n\r\nconst SearchResults = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const searchQuery = new URLSearchParams(location.search).get('query');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const { CurrentUser } = useContext(UsersContext);\r\n\r\n  // Use the `searchQuery` to fetch all products\r\n  useEffect(() => {\r\n    const fetchAllProducts = async () => {\r\n      try {\r\n        const response = await fetch(`http://localhost:2000/products`);\r\n        if (!response.ok) {\r\n          throw new Error('Network response was not ok');\r\n        }\r\n        const data = await response.json();\r\n        setSearchResults(data);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        setError(error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchAllProducts();\r\n  }, []);\r\n\r\n  const { AddToCart } = useContext(CartContext);\r\n  const { wishlist, addToWishlist, removeFromWishlist } = useContext(WishlistContext);\r\n\r\n  const [addedToCart, setAddedToCart] = useState(Array(searchResults.length).fill(false));\r\n\r\n  // Filter products based on search query\r\n  const filteredProducts = searchResults.filter((product) =>\r\n    product.title.toLowerCase().includes(searchQuery.toLowerCase())\r\n  );\r\n\r\n  const handleAddToCart = (productId, price, index) => {\r\n    if (!CurrentUser) {\r\n      showSignInToastAndRedirect();\r\n    } else {\r\n      AddToCart(productId, price);\r\n      const updatedAddedToCart = [...addedToCart];\r\n      updatedAddedToCart[index] = true;\r\n      setAddedToCart(updatedAddedToCart);\r\n    }\r\n  };\r\n\r\n  const handleWishlistToggle = (productId) => {\r\n    if (!CurrentUser) {\r\n      showSignInToastAndRedirect();\r\n    } else {\r\n      if (wishlist.includes(productId)) {\r\n        removeFromWishlist(productId);\r\n      } else {\r\n        addToWishlist(productId);\r\n      }\r\n    }\r\n  };\r\n\r\n  const showSignInToastAndRedirect = () => {\r\n    toast.error('You must sign in first');\r\n    navigate('/User/signin');\r\n  };\r\n\r\n  return (\r\n    <div style={{marginTop:'7%'}}>\r\n      <h3 className='text-center mb-3'>Search Results for \"{searchQuery}\"</h3>\r\n      {loading && <p>Loading...</p>}\r\n      {error && <p>Error: {error.message}</p>}\r\n      {filteredProducts.length === 0 ? (\r\n        <div className=\"text-center\">\r\n          <img src={require('../images/NoSearchResult.jpeg')} alt=\"No Results Found\" width={'30%'} />\r\n        </div>\r\n      ) : (\r\n        <div className=\"d-flex flex-wrap  gap-3 justify-content-center container\">\r\n          {filteredProducts.map((result, index) => (\r\n            <div className={style.card}>\r\n            <div className=\"card h-100\" key={result.id}>\r\n              <Link to={`/productDetails/${result.id}`}>\r\n                <img src={result.image} className=\"card-img-top w-100\" alt=\"..\" height={'330px'} />\r\n              </Link>\r\n\r\n              <div className=\"card-body\">\r\n                <h5 className=\"card-title\">{result.title}</h5>\r\n                <h6 className=\"card-text\">Price: ${result.price}</h6>\r\n\r\n                {CurrentUser && CurrentUser.role === 'admin' ? (\r\n                  // Render Edit button for admin\r\n                  <div key={result.id}>\r\n                    <Link to={`/Admin/EditProduct/${result.id}`} className={`btn btn-dark px-5 me-3 w-100`}>\r\n                      Edit\r\n                    </Link>\r\n                  </div>   \r\n                ) : (\r\n                  // Render Add to Cart and Wishlist buttons for regular users\r\n                  <>\r\n                    {addedToCart[index] ? (\r\n                      <button className=\"btn btn-success px-5\" disabled>\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"23\" height=\"23\" fill=\"currentColor\" className=\"bi bi-cart-check\" viewBox=\"0 0 16 16\">\r\n                          <path d=\"M11.354 6.354a.5.5 0 0 0-.708-.708L8 8.293 6.854 7.146a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3z\"/>\r\n                          <path d=\"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z\"/>\r\n                        </svg> Added to cart\r\n                      </button>\r\n                    ) : (\r\n                      <button\r\n                        className=\"btn btn-success px-5\"\r\n                        onClick={() => handleAddToCart(result.id, result.price, index)}\r\n                        >\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"23\" height=\"23\" fill=\"currentColor\" className=\"bi bi-cart-check\" viewBox=\"0 0 16 16\">\r\n                          <path d=\"M11.354 6.354a.5.5 0 0 0-.708-.708L8 8.293 6.854 7.146a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3z\"/>\r\n                          <path d=\"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z\"/>\r\n                        </svg> Add to Cart\r\n                      </button>\r\n                    )}\r\n\r\n                    {wishlist.includes(result.id) ? (\r\n                      <button\r\n                        className=\"btn border-1 rounded-circle\"\r\n                        onClick={() => handleWishlistToggle(result.id)}\r\n                      >\r\n                         <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" fill=\"red\" className=\"bi bi-heart-fill\" viewBox=\"0 0 16 16\">\r\n                          <path fillRule=\"evenodd\" d=\"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z\"/>\r\n                        </svg>\r\n                      </button>\r\n                    ) : (\r\n                      <button\r\n                        className=\"btn border-1 rounded-circle ms-4\"\r\n                        onClick={() => handleWishlistToggle(result.id)}\r\n                      >\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" fill=\"currentColor\" className=\"bi bi-heart\" viewBox=\"0 0 16 16\">\r\n                          <path d=\"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z\"/>\r\n                        </svg>\r\n                      </button>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchResults;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"Products_card__eQFjE\"};"],"names":["SearchResults","navigate","useNavigate","location","useLocation","searchQuery","URLSearchParams","search","get","searchResults","setSearchResults","useState","loading","setLoading","error","setError","CurrentUser","useContext","UsersContext","useEffect","async","response","fetch","ok","Error","data","json","fetchAllProducts","AddToCart","CartContext","wishlist","addToWishlist","removeFromWishlist","WishlistContext","addedToCart","setAddedToCart","Array","length","fill","filteredProducts","filter","product","title","toLowerCase","includes","handleWishlistToggle","productId","showSignInToastAndRedirect","toast","_jsxs","style","marginTop","children","className","_jsx","message","src","require","alt","width","map","result","index","card","Link","to","concat","id","image","height","price","role","_Fragment","disabled","xmlns","viewBox","d","onClick","handleAddToCart","updatedAddedToCart","fillRule"],"sourceRoot":""}