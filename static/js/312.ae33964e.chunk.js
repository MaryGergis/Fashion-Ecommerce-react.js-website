"use strict";(self.webpackChunkfashion_react_app=self.webpackChunkfashion_react_app||[]).push([[312],{2312:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var r=a(5294),c=a(2791),s=a(7689),i=a(6303),n=a(955),l=a(184);const o=function(){const e=(0,s.s0)(),{CurrentUser:t}=(0,c.useContext)(n.s),{deleteProduct:a,editProduct:o}=(0,c.useContext)(i.Z),d=(0,c.useRef)(null),{id:m}=(0,s.UO)(),[p,h]=(0,c.useState)({id:m,title:"",price:0,description:"",image:"https://www.energyfit.com.mk/wp-content/plugins/ap_background/images/default/default_large.png",category:""});(0,c.useEffect)((()=>{"admin"!==(null===t||void 0===t?void 0:t.role)&&e("/Home")}),[t,e]),(0,c.useEffect)((()=>{r.Z.get("http://localhost:2000/products/".concat(m)).then((e=>{h({id:e.data.id,title:e.data.title,price:e.data.price,description:e.data.description,image:e.data.image,category:e.data.category})})).catch((e=>{console.error("Error fetching product:",e),console.log("URL for product fetch:","http://localhost:2000/products/".concat(m))}))}),[m]);const u=e=>{const{name:t,value:a}=e.target;h((e=>({...e,[t]:a})))};return(0,l.jsxs)("div",{className:"mt-3 p-5 container w-75 mb-5 mt-5",children:[(0,l.jsx)("h1",{className:"text-center text-dark pb-4",children:"Edit Product"}),(0,l.jsxs)("form",{onSubmit:t=>{o(p.id,p),t.preventDefault(),e("/Home")},className:"p-4",children:[(0,l.jsxs)("div",{className:"form-floating mb-3",children:[(0,l.jsx)("input",{type:"text",className:"form-control",id:"title",name:"title",value:p.title,onChange:u,ref:d}),(0,l.jsx)("label",{htmlFor:"title",children:"Title"})]}),(0,l.jsxs)("div",{className:"form-floating mb-3",children:[(0,l.jsx)("input",{type:"number",className:"form-control",id:"price",name:"price",value:p.price,onChange:u}),(0,l.jsx)("label",{htmlFor:"price",children:"Price"})]}),(0,l.jsxs)("div",{className:"form-floating mb-3",children:[(0,l.jsx)("input",{type:"text",className:"form-control",id:"category",name:"category",value:p.category,onChange:u}),(0,l.jsx)("label",{htmlFor:"category",children:"Category"})]}),(0,l.jsxs)("div",{className:"form-floating mb-3",children:[(0,l.jsx)("input",{type:"text",className:"form-control",id:"description",name:"description",value:p.description,onChange:u}),(0,l.jsx)("label",{htmlFor:"description",children:"Description"})]}),(0,l.jsxs)("div",{className:"form-floating mb-3",children:[(0,l.jsx)("input",{type:"text",className:"form-control",id:"image",name:"image",value:p.image,onChange:u}),(0,l.jsx)("label",{htmlFor:"image",children:"Image Url"})]}),(0,l.jsx)("div",{className:"mb-3",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("button",{className:"btn btn-success mx-2 text-light px-5 py-2 b-0",children:"Edit"}),(0,l.jsx)("button",{className:"btn btn-danger mx-2 text-light px-5 py-2 b-0",onClick:async()=>{try{await a(m),e("/Home")}catch(t){console.error("Error deleting product:",t)}},children:"Delete"})]})})]})]})}}}]);
//# sourceMappingURL=312.ae33964e.chunk.js.map