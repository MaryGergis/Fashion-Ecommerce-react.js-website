{"version":3,"file":"static/js/840.47bcd002.chunk.js","mappings":"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","sources":["Components/StarsRating.jsx","Components/CRUD/ProductDetails.jsx"],"sourcesContent":["import React from \"react\";\r\n\r\nconst StarRating = ({ rating, starSize }) => {\r\n  if (!rating || typeof rating.rate !== 'number') {\r\n    return <div>No rating available</div>;\r\n  }\r\n\r\n  const fullStars = Math.floor(rating.rate);\r\n  const remainingRating = rating.rate - fullStars;\r\n  const totalStars = 5;\r\n\r\n  const renderStars = () => {\r\n    const stars = [];\r\n\r\n    // Add full stars\r\n    for (let i = 1; i <= fullStars; i++) {\r\n      stars.push(\r\n        <span key={i} className=\"star full-star pe-1\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"yellow\" className=\"bi bi-star-fill\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z\"/>\r\n          </svg>\r\n        </span>\r\n      );\r\n    }\r\n\r\n    // Add half star if remainingRating is between 0.5 and 1\r\n    if (remainingRating >= 0.5) {\r\n      stars.push(\r\n        <span key=\"half-star\" className=\"star half-star\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"yellow\" className=\"bi bi-star-half\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M5.354 5.119 7.538.792A.516.516 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0 1 16 6.32a.548.548 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.52.52 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.58.58 0 0 1 .085-.302.513.513 0 0 1 .37-.245l4.898-.696zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.565.565 0 0 1 .162-.505l2.907-2.77-4.052-.576a.525.525 0 0 1-.393-.288L8.001 2.223 8 2.226v9.8z\"/>\r\n          </svg>\r\n        </span>\r\n      );\r\n    }\r\n\r\n    // Add remaining empty stars\r\n    const remainingStars = totalStars - stars.length;\r\n    for (let i = 1; i <= remainingStars; i++) {\r\n      stars.push(\r\n        <span key={i + fullStars + 1} className=\"star empty-star ps-1\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"yellow\" className=\"bi bi-star me-2\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z\"/>\r\n          </svg>\r\n        </span>\r\n      );\r\n    }\r\n\r\n    return stars;\r\n  };\r\n\r\n  const starStyle = {\r\n    fontSize: starSize || \"24px\",\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <span className=\"star-rating\" style={starStyle}>\r\n        {renderStars()}\r\n      </span>\r\n      ({rating.rate}) ({rating.count})\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StarRating;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Link, useParams , useNavigate} from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport ProductsContext from '../../ContextApis/ProductsContext';\r\nimport { UsersContext } from '../../ContextApis/UsersContext';\r\nimport { CartContext } from '../../ContextApis/CartContext';\r\nimport { WishlistContext } from '../../ContextApis/WishlistContext';\r\nimport StarRating from '../StarsRating';\r\n\r\nconst ProductDetails = () => {\r\n  const { id } = useParams();\r\n  const { getProductById, products } = useContext(ProductsContext);\r\n  const [productItem, setProductItem] = useState({});\r\n  const { CurrentUser } = useContext(UsersContext);\r\n  const { AddToCart } = useContext(CartContext);\r\n  const { wishlist, addToWishlist, removeFromWishlist } = useContext(WishlistContext);\r\n  const [addedToCart, setAddedToCart] = useState(Array(products.length).fill(false));\r\n  \r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    getProductById(id)\r\n      .then((productData) => {\r\n        console.log('Product Data:', productData);\r\n        setProductItem(productData);\r\n\r\n        const productIndex = products.findIndex((product) => product.id === productData.id);\r\n        setAddedToCart((prevAddedToCart) => {\r\n          const updatedAddedToCart = [...prevAddedToCart];\r\n          updatedAddedToCart[productIndex] = false;\r\n          return updatedAddedToCart;\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error fetching product details:', error);\r\n      });\r\n  }, [id, getProductById, products]);\r\n\r\n  \r\n  if (!productItem) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  const handleAddToCart = (productId, price) => {\r\n    if (!CurrentUser) {\r\n      showSignInToastAndRedirect();\r\n    } else {\r\n      AddToCart(productId, price);\r\n      const productIndex = products.findIndex((product) => product.id === productId);\r\n      setAddedToCart([...addedToCart.slice(0, productIndex), true, ...addedToCart.slice(productIndex + 1)]);\r\n    }\r\n  };\r\n\r\n  const handleWishlistToggle = (productId) => {\r\n    if (!CurrentUser) {\r\n      showSignInToastAndRedirect();\r\n    } else {\r\n      if (wishlist.includes(productId)) {\r\n        removeFromWishlist(productId);\r\n      } else {\r\n        addToWishlist(productId);\r\n      }\r\n    }\r\n  };\r\n\r\n  const showSignInToastAndRedirect = () => {\r\n    toast.error('You must sign in first');\r\n    navigate('/User/signin');\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\" style={{ width: '70%', marginTop: '7%' }}>\r\n      <div className=\"card mb-3\">\r\n        <div className=\"row g-0\" key={productItem.id}>\r\n          <div className=\"col-md-6 w-50\">\r\n            <img src={productItem.image} className=\"img-fluid rounded-start\" alt=\"...\" width={'340px'} height={''} />\r\n          </div>\r\n          \r\n          <div className=\"col-md-6\">\r\n            <div className=\"card-body\">\r\n              <h2 className=\"card-title\">{productItem.title}</h2>\r\n              <h5 className=\"card-text\">Price: ${productItem.price}</h5>\r\n              <p className=\"card-text\">{productItem.description}</p>\r\n              <h6 className=\"card-text d-flex \">\r\n                Category: {productItem.category}\r\n                <span className=\"ms-5 mb-3\">\r\n                  <StarRating rating={productItem.rating} count={productItem.count} />\r\n                </span>\r\n              </h6>\r\n\r\n              {CurrentUser?.role === 'admin' ? (\r\n                <div>\r\n                  <Link to={`/Admin/EditProduct/${productItem.id}`} className={`btn btn-dark px-5 me-3 w-100`}>\r\n                    Edit\r\n                  </Link>\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  {addedToCart[products.findIndex((product) => product.id === productItem.id)] ? (\r\n                    <button className=\"btn btn-success px-5 w-75\" disabled>\r\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"23\" height=\"23\" fill=\"currentColor\" className=\"bi bi-cart-check\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M11.354 6.354a.5.5 0 0 0-.708-.708L8 8.293 6.854 7.146a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3z\"/>\r\n                        <path d=\"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z\"/>\r\n                      </svg>  Added to cart\r\n                    </button>\r\n                  ) : (\r\n                    <button className=\"btn btn-success px-5 w-75\" onClick={() => handleAddToCart(productItem.id, productItem.price)}>\r\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"23\" height=\"23\" fill=\"currentColor\" className=\"bi bi-cart-check\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M11.354 6.354a.5.5 0 0 0-.708-.708L8 8.293 6.854 7.146a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3z\"/>\r\n                        <path d=\"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z\"/>\r\n                      </svg> Add to Cart\r\n                    </button>\r\n                  )}\r\n\r\n                  {wishlist.includes(productItem.id) ? (\r\n                    <button className=\"btn border-1 rounded-circle ms-3\" onClick={() => handleWishlistToggle(productItem.id)}>\r\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" fill=\"red\" className=\"bi bi-heart-fill\" viewBox=\"0 0 16 16\">\r\n                        <path fillRule=\"evenodd\" d=\"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z\"/>\r\n                      </svg>\r\n                    </button>\r\n                  ) : (\r\n                    <button className=\"btn border-1 rounded-circle ms-3\" onClick={() => handleWishlistToggle(productItem.id)}>\r\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" fill=\"currentColor\" className=\"bi bi-heart\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.920 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.280 8.717 2.010L8 2.748zM8 15C-7.333 4.868 3.279-3.040 7.824 1.143c.060.055.119.112.176.171a3.120 3.120 0 0 1 .176-.170C12.720-3.042 23.333 4.867 8 15z\"/>\r\n                      </svg>\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetails;\r\n"],"names":["_ref","rating","starSize","rate","_jsx","children","fullStars","Math","floor","remainingRating","starStyle","fontSize","_jsxs","className","style","renderStars","stars","i","push","xmlns","width","height","fill","viewBox","d","remainingStars","length","count","ProductDetails","id","useParams","getProductById","products","useContext","ProductsContext","productItem","setProductItem","useState","CurrentUser","UsersContext","AddToCart","CartContext","wishlist","addToWishlist","removeFromWishlist","WishlistContext","addedToCart","setAddedToCart","Array","navigate","useNavigate","useEffect","then","productData","console","log","productIndex","findIndex","product","prevAddedToCart","updatedAddedToCart","catch","error","handleWishlistToggle","productId","includes","showSignInToastAndRedirect","toast","marginTop","src","image","alt","title","price","description","category","StarRating","role","Link","to","concat","disabled","onClick","handleAddToCart","slice","fillRule"],"sourceRoot":""}